<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
    <body>
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-6 mb-4">
        <div class="d2c_card_wrapper"
          style="background-color: #ffb5b5; border-radius: 15px; box-shadow: 0 5px 15px rgba(255,107,139,0.1); padding: 25px;">
          <h5 class="mb-3 fw-bold text-dark text-center">ðŸ’Œ Kirim Ucapan Ulang Tahun Ke Nada ðŸ’Œ</h5>
          <form id="form-ucapan">
            <div class="mb-3">
              <label for="name" class="form-label">Nama Kamu</label>
              <input type="text" class="form-control" id="name" placeholder="Contoh: Rina - Sahabat SMP" required />
            </div>
            <div class="mb-3">
              <label for="message" class="form-label">Pesan Ucapan</label>
              <textarea class="form-control" id="message" rows="3" placeholder="Tulis ucapan ulang tahun kamu disini..." required></textarea>
            </div>
            <button type="submit" class="btn btn-light border w-100"
              style="background-color: white; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
              Kirim Sekarang ðŸ’–
            </button>
            <div id="notif" class="mt-2 text-center"></div>
          </form>
        </div>
      </div>
    </div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const form = document.getElementById('form-ucapan');
  const notif = document.getElementById('notif');
const client = supabase.createClient(
    'https://wjtfodlsujrjswyvxstq.supabase.co',
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqdGZvZGxzdWpyanN3eXZ4c3RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM1NTA1OTYsImV4cCI6MjA2OTEyNjU5Nn0.0JMh1VFcxQTh5g63KL954q146YLOIijKm7HGD8OAK28'
  );
  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const name = document.getElementById('name').value.trim();
   
    const message = document.getElementById('message').value.trim();

    const { error } = await client.from('messages').insert({
      name,
      
      message,
    });

    if (error) {
      notif.innerHTML = `<small class="text-danger">Gagal kirim: ${error.message}</small>`;
    } else {
      notif.innerHTML = `<small class="text-success">Ucapan berhasil dikirim! ðŸ¥³</small>`;
      form.reset();
      ambilDataUcapan(); // Biar langsung muncul ucapan baru
    }
  });
</script>
</body>
</html>


